import{a as L,o as W,t as O,h as I,v as X,w as Z,x as F,y as $,z as j,H as ee,A as U,B as b,e as R,C as re,D as fe,E as q,c as ne,F as M,b as H,s as ae,G as B,I as se,J as z,K as ie,L as le,M as oe,N as ue,r as K,p as P,O as x,P as te,Q as ve,d as ce,R as de,q as _e,T as pe,U as he,V as ge,W as Ee}from"./BD65OI3D.js";function Ce(e,r){return r}function Ae(e,r,f){for(var u=[],l=r.length,o,i=r.length,a=0;a<l;a++){let t=r[a];P(t,()=>{if(o){if(o.pending.delete(t),o.done.add(t),o.pending.size===0){var d=e.outrogroups;D(z(o.done)),d.delete(o),d.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var v=u.length===0&&f!==null;if(v){var s=f,c=s.parentNode;ve(c),c.append(s),e.items.clear()}D(r,!v)}else o={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(o)}function D(e,r=!0){for(var f=0;f<e.length;f++)ce(e[f],r)}var V;function ke(e,r,f,u,l,o=null){var i=e,a=new Map;{var v=e;i=I?O(X(v)):v.appendChild(L())}I&&Z();var s=null,c=$(()=>{var _=f();return ie(_)?_:_==null?[]:z(_)}),t,d=!0;function w(){g.fallback=s,Te(g,t,i,r,u),s!==null&&(t.length===0?(s.f&M)===0?K(s):(s.f^=M,y(s,null,i)):P(s,()=>{s=null}))}var n=W(()=>{t=F(c);var _=t.length;let A=!1;if(I){var h=j(i)===ee;h!==(_===0)&&(i=U(),O(i),b(!1),A=!0)}for(var C=new Set,T=ne,S=ae(),m=0;m<_;m+=1){I&&R.nodeType===re&&R.data===fe&&(i=R,A=!0,b(!1));var k=t[m],p=u(k,m),E=d?null:a.get(p);E?(E.v&&q(E.v,k),E.i&&q(E.i,m),S&&T.skipped_effects.delete(E.e)):(E=me(a,d?i:V??=L(),k,p,m,l,r,f),d||(E.e.f|=M),a.set(p,E)),C.add(p)}if(_===0&&o&&!s&&(d?s=H(()=>o(i)):(s=H(()=>o(V??=L())),s.f|=M)),I&&_>0&&O(U()),!d)if(S){for(const[J,Q]of a)C.has(J)||T.skipped_effects.add(Q.e);T.oncommit(w),T.ondiscard(()=>{})}else w();A&&b(!0),F(c)}),g={effect:n,items:a,outrogroups:null,fallback:s};d=!1,I&&(i=R)}function Te(e,r,f,u,l){var o=r.length,i=e.items,a=e.effect.first,v,s=null,c=[],t=[],d,w,n,g;for(g=0;g<o;g+=1){if(d=r[g],w=l(d,g),n=i.get(w).e,e.outrogroups!==null)for(const p of e.outrogroups)p.pending.delete(n),p.done.delete(n);if((n.f&M)!==0)if(n.f^=M,n===a)y(n,null,f);else{var _=s?s.next:a;n===e.effect.last&&(e.effect.last=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),N(e,s,n),N(e,n,_),y(n,_,f),s=n,c=[],t=[],a=s.next;continue}if((n.f&x)!==0&&K(n),n!==a){if(v!==void 0&&v.has(n)){if(c.length<t.length){var A=t[0],h;s=A.prev;var C=c[0],T=c[c.length-1];for(h=0;h<c.length;h+=1)y(c[h],A,f);for(h=0;h<t.length;h+=1)v.delete(t[h]);N(e,C.prev,T.next),N(e,s,C),N(e,T,A),a=A,s=T,g-=1,c=[],t=[]}else v.delete(n),y(n,a,f),N(e,n.prev,n.next),N(e,n,s===null?e.effect.first:s.next),N(e,s,n),s=n;continue}for(c=[],t=[];a!==null&&a!==n;)(v??=new Set).add(a),t.push(a),a=a.next;if(a===null)continue}(n.f&M)===0&&c.push(n),s=n,a=n.next}if(e.outrogroups!==null){for(const p of e.outrogroups)p.pending.size===0&&(D(z(p.done)),e.outrogroups?.delete(p));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||v!==void 0){var S=[];if(v!==void 0)for(n of v)(n.f&x)===0&&S.push(n);for(;a!==null;)(a.f&x)===0&&a!==e.fallback&&S.push(a),a=a.next;var m=S.length;if(m>0){var k=o===0?f:null;Ae(e,S,k)}}}function me(e,r,f,u,l,o,i,a){var v=(i&le)!==0?(i&oe)===0?se(f,!1,!1):B(f):null,s=(i&ue)!==0?B(l):null;return{v,i:s,e:H(()=>(o(r,v??f,s??l,a),()=>{e.delete(u)}))}}function y(e,r,f){if(e.nodes)for(var u=e.nodes.start,l=e.nodes.end,o=r&&(r.f&M)===0?r.nodes.start:f;u!==null;){var i=te(u);if(o.before(u),u===l)return;u=i}}function N(e,r,f){r===null?e.effect.first=f:r.next=f,f===null?e.effect.last=r:f.prev=r}const Ne=Symbol("is custom element"),Ie=Symbol("is html");function ye(e){if(I){var r=!1,f=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var u=e.value;Y(e,"value",null),e.value=u}if(e.hasAttribute("checked")){var l=e.checked;Y(e,"checked",null),e.checked=l}}};e.__on_r=f,_e(f),pe()}}function Y(e,r,f,u){var l=Me(e);I&&(l[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||l[r]!==(l[r]=f)&&(r==="loading"&&(e[he]=f),f==null?e.removeAttribute(r):typeof f!="string"&&Se(e).includes(r)?e[r]=f:e.setAttribute(r,f))}function Me(e){return e.__attributes??={[Ne]:e.nodeName.includes("-"),[Ie]:e.namespaceURI===de}}var G=new Map;function Se(e){var r=e.getAttribute("is")||e.nodeName,f=G.get(r);if(f)return f;G.set(r,f=[]);for(var u,l=e,o=Element.prototype;o!==l;){u=Ee(l);for(var i in u)u[i].set&&f.push(i);l=ge(l)}return f}export{ke as e,Ce as i,ye as r,Y as s};
